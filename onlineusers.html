<!DOCTYPE html>
<!-- Coding By CodingNepal - www.codingnepalweb.com -->
<html lang="en">
  <head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>UIP Attendance Tracker</title>

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">

  <!-- DataTables CSS -->
  <link rel="stylesheet" href="https://cdn.datatables.net/1.13.4/css/dataTables.bootstrap5.min.css">
  <link rel="stylesheet" href="https://cdn.datatables.net/buttons/2.3.6/css/buttons.bootstrap5.min.css">

  <!-- Google Material Icons -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />

  <!-- Custom CSS (must be last to override Bootstrap/DataTables) -->
  <link rel="stylesheet" href="onlineusers.css" />
</head>
  <body>
    <aside class="sidebar">
      <div class="sidebar-header">
        <img src="tracker logo.png" alt="logo" />
        <span class="logo-text">UIP <br>Tracker</span>
      </div>

      <ul class="sidebar-links">
        <li><a href="dashboard.html"><span class="material-symbols-outlined">space_dashboard</span>Dashboard<span class="chevron">&gt;</span></a></li>
        <li><a href="attendance.html"><span class="material-symbols-outlined">event_available</span>Attendance<span class="chevron">&gt;</span></a></li>
        <li><a href="onlineusers.html" class="active"><span class="material-symbols-outlined">account_circle</span>Online Users<span class="chevron">&gt;</span></a></li>
        <li><a href="event.html"><span class="material-symbols-outlined">notifications_active</span>Event<span class="chevron">&gt;</span></a></li>
        <li><a href="help.html"><span class="material-symbols-outlined">help</span>Help<span class="chevron">&gt;</span></a></li>
        <li><a href="developers.html"><span class="material-symbols-outlined">engineering</span>Developers<span class="chevron">&gt;</span></a></li>
      </ul>
    </aside>

  
    <main class="main-content">
      <!-- Header -->
      <div class="header">
        <h2 id="currentDateTime"></h2>
        <button class="user-profile" onclick="toggleDropdown()">
          <div class="user-avatar">DC</div>
          <div class="user-details">
            <h3>Dani Dela Cruz</h3>
            <p>Intern</p>
          </div>
          <span class="material-symbols-outlined" style="color: #9197B3;">expand_more</span>
          
          <div class="dropdown-menu" id="userDropdown">
            <a href="#" class="dropdown-item">
              <span class="material-symbols-outlined">person</span>
              Profile
            </a>
            <a href="#" class="dropdown-item">
              <span class="material-symbols-outlined">settings</span>
              Change Password
            </a>
            <div class="dropdown-divider"></div>
            <a href="#" class="dropdown-item">
              <span class="material-symbols-outlined">logout</span>
              Sign out
            </a>
          </div>
        </button>
      </div>

      <!-- Active Intern Now -->
<div class="card mb-4">
  <div class="card-header">
   <div class="table-actions">
    <button id="sortBtn">Sort</button>
    <button id="copyBtn">Copy</button>
    <button id="excelBtn">Excel</button>
    <button id="pdfBtn">PDF</button>
   </div>
    <h3 class="mb-0">Active Intern Now</h3>

   <div class="search-bar">
    <input type="text" placeholder="Search...">
   </div>
 </div>
  <div class="card-body">
    <table id="internTable" class="table table-striped table-bordered">
      <thead>
        <tr>
          <th>Profile</th>
          <th>Name</th>
          <th>Last Login</th>
          <th>Status</th>
          <th>Position</th>
          <th>Team Name</th>
          <th>Company</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><span class="status-icon online"></span></td>
          <td>Lastname, Firstname M.I.</td>
          <td>MM/DD/YY</td>
          <td>ONLINE</td>
          <td>IT Intern</td>
          <td>Group 1</td>
          <td>Vynics Travel</td>
        </tr>
        <tr>
          <td><span class="status-icon offline"></span></td>
          <td>Lastname, Firstname M.I.</td>
          <td>MM/DD/YY</td>
          <td>OFFLINE</td>
          <td>IT Intern</td>
          <td>Group 2</td>
          <td>Vynics Travel</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<!-- Active Staff Now -->
<div class="card">
  <div class="card-header">
   <div class="table-actions">
    <button id="sortBtn">Sort</button>
    <button id="copyBtn">Copy</button>
    <button id="excelBtn">Excel</button>
    <button id="pdfBtn">PDF</button>
   </div>
    <h3 class="mb-0">Active Staff Now</h3>

   <div class="search-bar">
    <input type="text" placeholder="Search...">
   </div>
 </div>
  <div class="card-body">
    <table id="staffTable" class="table table-striped table-bordered">
      <thead>
        <tr>
          <th>Profile</th>
          <th>Name</th>
          <th>Last Login</th>
          <th>Status</th>
          <th>Position</th>
          <th>Team Name</th>
          <th>Company</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><span class="status-icon online"></span></td>
          <td>Admin Account</td>
          <td>MM/DD/YY</td>
          <td>ONLINE</td>
          <td>Admin</td>
          <td>N/A</td>
          <td>UP Inc.</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
</main>

<!-- jQuery -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

<!-- DataTables JS -->
<script src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.13.4/js/dataTables.bootstrap5.min.js"></script>

<!-- DataTables Buttons extension -->
<script src="https://cdn.datatables.net/buttons/2.3.6/js/dataTables.buttons.min.js"></script>
<script src="https://cdn.datatables.net/buttons/2.3.6/js/buttons.bootstrap5.min.js"></script>

<!-- Export to Excel / PDF / Copy -->
<script src="https://cdn.datatables.net/buttons/2.3.6/js/buttons.html5.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.7/pdfmake.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.7/vfs_fonts.js"></script>

  <script>
    $(document).ready(function () {
  // internTable with export buttons
  var internTable = $('#internTable').DataTable({
    pageLength: 10,
    dom: 'rtip', // r=processing indicator, t=table, i=info, p=pagination
    buttons: [
      { extend: 'copyHtml5', className: 'd-none', title: 'Intern Data' },
      { extend: 'excelHtml5', className: 'd-none', title: 'Intern Data' },
      { extend: 'pdfHtml5', className: 'd-none', title: 'Intern Data', orientation: 'landscape', pageSize: 'A4' }
    ]
  });

  // staffTable without export buttons
  $('#staffTable').DataTable({
    pageLength: 10,
    dom: 'rtip'
  });

  // Export buttons triggers
  $('#copyBtn').on('click', function () { internTable.button('.buttons-copy').trigger(); });
  $('#excelBtn').on('click', function () { internTable.button('.buttons-excel').trigger(); });
  $('#pdfBtn').on('click', function () { internTable.button('.buttons-pdf').trigger(); });
});

// Time updater
function updateTime() {
  const now = new Date();
  const month = now.toLocaleString('en-US', { month: 'long' });
  const day = now.getDate();
  const year = now.getFullYear();
  const time = now.toLocaleString('en-US', { 
    hour: '2-digit', 
    minute: '2-digit', 
    second: '2-digit', 
    hour12: true 
  });
  const weekday = now.toLocaleString('en-US', { weekday: 'long' });

  document.getElementById('currentDateTime').textContent =
    `${month} ${day}, ${year} | ${time} | ${weekday}`;
}

// Dropdown functionality
      function toggleDropdown() {
        const dropdown = document.getElementById('userDropdown');
        dropdown.classList.toggle('show');
      }

      // Close dropdown when clicking outside
      document.addEventListener('click', function(event) {
        const userProfile = document.querySelector('.user-profile');
        const dropdown = document.getElementById('userDropdown');
        
        if (!userProfile.contains(event.target)) {
          dropdown.classList.remove('show');
        }
      });
  </script>
</body>
</html>
